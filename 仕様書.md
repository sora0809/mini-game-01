
---

# 0. 前提・開発コンテキスト（確定）

| 項目       | 内容                                                       |
| -------- | -------------------------------------------------------- |
| タイトル     | **Bulletcore Labyrinth（バレットコア・ラビリンス）**                   |
| ジャンル     | ローグライク弾避けアクション（トップダウン2D）                                 |
| 世界観      | 崩壊したデータ世界の「コア迷宮」を攻略するハッカーアバターが、暴走防衛システムの弾幕をくぐり抜けて中枢へ到達する |
| プラットフォーム | PCブラウザ（HTML5 / JavaScript / Phaser 3）                    |
| 解像度      | 論理解像度：**800×450** / 表示：1280×720に拡大（16:9固定）               |
| 入力       | キーボード必須：WASD or 矢印、Shift、Space、Esc（マウスはUIのみ）             |
| カメラ      | 固定トップダウン、スクロールなし単一アリーナ                                   |
| 1ラン想定時間  | 10〜15分                                                   |
| ラン構造     | Wave1〜9（Wave5中ボス / Wave9最終ボス）                            |
| 想定開発規模   | 2〜3人・3〜4ヶ月（仕様上はこれに合わせてスコープ済み）                            |

---

# 1. ゲーム概要

## 1.1 ルール概要

* プレイヤーはアリーナ内で敵弾を避けながら、**自動ショット**で敵を倒す。
* 敵や弾幕を倒す/時間経過で経験値(EXP)を得てレベルアップ。
* レベルアップごとに3つのパークから1つを選択し、ビルドを構築。
* Waveクリアを繰り返し、Wave9のボスを倒せば**ラン勝利**。
* HPが0になった時点で**ゲームオーバー**。取得メタ通貨に応じて恒久アップグレードを獲得。

## 1.2 コアコンセプト（柱）

1. **「避け」のビルド構築**：移動・低速・ダッシュ・弾幕変調パークで「死なない動き」を作る。
2. **弾幕ローグライク**：敵タイプだけでなく、**パターン＋モディファイアの組合せ**が毎ラン変化。
3. **短時間・高リトライ**：10〜15分で1周、メタ強化で少しずつ進行。

---

# 2. プレイヤー仕様（確定値）

## 2.1 基本パラメータ

| 項目         | 値                  |
| ---------- | ------------------ |
| 最大HP       | 3                  |
| 初期HP       | 3                  |
| 移動速度       | 160 px/秒           |
| 低速移動倍率     | 0.4（=64 px/秒）      |
| 当たり判定半径    | 6 px               |
| ダッシュ距離     | 120 px             |
| ダッシュ時間     | 0.12 秒             |
| ダッシュ無敵時間   | 0.16 秒（発動開始〜0.16秒） |
| ダッシュ最大ストック | 1                  |
| ダッシュクールダウン | 1.5 秒/ストック         |
| 被弾後無敵時間    | 1.0 秒              |
| 自動ショット方向   | 上方向固定（90°扇形の自動照準）  |
| 自動ショット間隔   | 0.18 秒             |
| 自動ショットダメージ | 1                  |

## 2.2 プレイヤー入力

* **移動**：WASD または 方向キー
* **低速移動**：Left Shift（押下中のみ）
* **ダッシュ**：Space
* **ポーズ**：Esc（ポーズメニュー）

## 2.3 プレイヤー状態（State Machine）

* `NORMAL`：通常操作（移動＋低速＋ダッシュ受付）
* `DASH`：ダッシュ中（入力制限、一部処理停止、無敵）
* `HIT_STUN`：被弾直後の無敵時間（移動可）
* `DEAD`：HP0、入力無効

---

# 3. 敵・ボス仕様

## 3.1 敵タイプ一覧（v1.0固定）

### ノーマル敵（5種）

1. **EN_GRUNT**

   * 近距離雑魚。プレイヤー方向へゆっくり直進しつつリング弾を撃つ。
2. **EN_SNIPER**

   * 遠距離狙撃。ほぼ移動せず、狙い弾を連射。
3. **EN_ORBITER**

   * プレイヤー周囲を円運動して位置を崩す。扇状散弾。
4. **EN_SWARMER**

   * 高速突進、HP低い。接近して扇状散弾を撒く。
5. **EN_MINE**

   * 移動しない地雷。接近or破壊時に大きなリング弾を放つ。

### エリート敵（2種）

6. **EN_ELITE_SNIPER**

   * EN_SNIPER強化版。狙い弾＋螺旋弾の複合。
7. **EN_ELITE_ORBITER**

   * EN_ORBITER強化版。分裂弾を含む扇状散弾。

### ボス（2体）

8. **BOSS_CORE_GUARD**（Wave5中ボス）
9. **BOSS_CORE_HEART**（Wave9最終ボス）

## 3.2 代表パラメータ（ノーマル）

例：EN_GRUNT

```json
{
  "id": "EN_GRUNT",
  "name": "グラントコア",
  "maxHp": 12,
  "speed": 70,
  "collisionRadius": 12,
  "basePatternId": "PAT_RING_SMALL",
  "patternInterval": 1.8,
  "expReward": 3
}
```

他敵パラメータも同形式でJSON定義し、以下を基準値とする（難易度スケーリングで増加）：

| ID               | maxHp | speed | patternInterval | expReward |
| ---------------- | ----- | ----- | --------------- | --------- |
| EN_GRUNT         | 12    | 70    | 1.8s            | 3         |
| EN_SNIPER        | 10    | 40    | 1.2s            | 4         |
| EN_ORBITER       | 18    | 60    | 2.0s            | 5         |
| EN_SWARMER       | 6     | 120   | 1.5s            | 3         |
| EN_MINE          | 8     | 0     | 起爆時のみ           | 2         |
| EN_ELITE_SNIPER  | 26    | 50    | 1.0s            | 10        |
| EN_ELITE_ORBITER | 32    | 70    | 1.8s            | 12        |

ボスは個別セクション（後述）。

---

# 4. 弾・パターン・モディファイア

## 4.1 弾共通仕様

| 項目      | 値                           |
| ------- | --------------------------- |
| 当たり判定   | 円（中心＋半径）                    |
| サイズ     | 4〜14 px（弾種ごと定義）             |
| 最大同時弾数  | 700 発（超えた場合古い弾から強制消去）       |
| デフォルト寿命 | 6 秒（超過で自動消滅）                |
| 更新処理    | Arcade Physics + カスタムupdate |

色分け（固定）：

* 敵弾：赤〜黄系（#FF4B4B / #FFC93D）
* プレイヤー弾：シアン（#3DFFEC）
* 無害オブジェクト：緑（#68FF87）

## 4.2 パターンリスト（8種・固定）

1. **PAT_RING_SMALL**

   * リング弾（小）
   * `bulletCount: 16, spreadAngle: 360, baseSpeed: 180`

2. **PAT_RING_LARGE**

   * リング弾（大）
   * `bulletCount: 32, spreadAngle: 360, baseSpeed: 140`

3. **PAT_FAN_SHORT**

   * 短い扇状散弾
   * `bulletCount: 7, spreadAngle: 60, baseSpeed: 200`

4. **PAT_FAN_WIDE**

   * 広い扇状散弾
   * `bulletCount: 11, spreadAngle: 120, baseSpeed: 180`

5. **PAT_AIMED_SINGLE**

   * 単発狙い弾
   * `bulletCount: 1, aimAtPlayer: true, baseSpeed: 260`

6. **PAT_AIMED_BURST**

   * 3連狙いバースト
   * `bulletCount: 3, burstInterval: 0.08, baseSpeed: 230`

7. **PAT_SPIRAL**

   * 螺旋弾（連射ごとに角度＋15°）
   * `bulletCount: 2, baseSpeed: 190`

8. **PAT_RAIN**

   * 上方からの弾雨
   * 画面上端ランダム位置に生成
   * `bulletCount: 12, baseSpeed: 220`

パターン定義例：

```json
{
  "id": "PAT_FAN_WIDE",
  "type": "fan",
  "bulletCount": 11,
  "baseSpeed": 180,
  "spreadAngle": 120,
  "randomOffset": 10,
  "aimAtPlayer": true
}
```

## 4.3 モディファイアリスト（6種・固定）

1. **MOD_SLOW_START**

   * 0.5秒かけて速度が `0.4×→1.0×` まで加速。

2. **MOD_ACCELERATE**

   * 発射時は通常速度、3秒後までに `1.4×` まで加速。

3. **MOD_WAVE**

   * 弾が進行方向左右に±20°で周期0.8秒の波打ち運動。

4. **MOD_SPLIT**

   * 発射後1.2秒で停止し、角度±15°に2発の子弾に分裂。

5. **MOD_DECAY**

   * 寿命を強制的に3秒に短縮（画面掃除用）。

6. **MOD_HOMING_LIGHT**

   * 軽い誘導（0.3秒ごとにプレイヤー方向へ最大3°旋回、誘導時間1.5秒）。

モディファイア定義例：

```json
{
  "id": "MOD_WAVE",
  "type": "wave",
  "params": {
    "amplitudeDeg": 20,
    "period": 0.8
  }
}
```

## 4.4 弾幕生成ルール（ローグライク性）

* ラン開始時に以下をランダム決定：

  * 使用する**モディファイア3種**（6種からランダム抽選、重複なし）
  * 各敵タイプごとの「サブパターン」1つ（パターン8種から重複可）
* 敵は

  * `basePatternId`（固定）
  * `subPatternId`（ランごとに変わる）
    のどちらかを、攻撃毎に50%の確率で使用。
* モディファイアは難易度に応じて自動付与：

  * Wave1〜3：0個
  * Wave4〜6：1個（抽選範囲2種）
  * Wave7〜9：1〜2個（抽選範囲3種）

---

# 5. パーク仕様（30個・固定）

## 5.1 パーク共通仕様

* レベルアップ毎に**3候補**表示、1つ選択。
* パークは**重複取得可能**（maxStackで上限管理）。
* 同一ランで取得想定：8〜12個。

## 5.2 パーク一覧（ID / 名前 / 効果）

### 5.2.1 移動・回避系（8個）

1. `PERK_DASH_CD_I`「クイックステップ I」

   * ダッシュCD -15%（×0.85）

2. `PERK_DASH_CD_II`「クイックステップ II」

   * ダッシュCD -15%（×0.85）
   * 条件：`PERK_DASH_CD_I`取得済み

3. `PERK_DASH_CHARGE`「追い足」

   * ダッシュ最大ストック +1（=2回まで）

4. `PERK_SLOW_CORE_I`「深い集中 I」

   * 低速移動中、当たり判定半径 -25%

5. `PERK_SLOW_CORE_II`「深い集中 II」

   * 低速移動中、当たり判定半径さらに -15%（合計 -40%）

6. `PERK_MOVE_SPEED_I`「ステップ強化 I」

   * 移動速度 +15%

7. `PERK_MOVE_SPEED_II`「ステップ強化 II」

   * 移動速度 +15%（合計 +30%）

8. `PERK_DASH_ON_HIT`「緊急回避」

   * 被弾時、ダッシュストックを即1回分回復（CD無視）

### 5.2.2 防御・生存系（8個）

9. `PERK_HP_UP_I`「耐久強化 I」

   * 最大HP +1

10. `PERK_HP_UP_II`「耐久強化 II」

    * 最大HP +1（合計 +2）

11. `PERK_GRAZE_HEAL`「かすり回復」

    * 敵弾がプレイヤーから8px以内を通過した回数100回ごとにHP+1（上限ラン中2回）

12. `PERK_SHIELD_CHANCE`「バリア粒子」

    * 弾がプレイヤーに接触したとき、25%で無効化（ダメージ0）

13. `PERK_SAFE_ZONE`「安全領域」

    * プレイヤー周囲半径20px以内に入った弾は速度-50%

14. `PERK_DEATH_SHOCK`「最期の抵抗」

    * HPが1のとき被弾しても一度だけHP1のまま耐える（自動発動1回）

15. `PERK_DECAY_UP`「崩壊促進」

    * 敵弾の寿命-1秒（最小2秒）（全弾に適用）

16. `PERK_BOSS_RESIST`「コア耐性」

    * ボス弾からのダメージ-1（最低1ダメ）

### 5.2.3 弾幕変調・制御系（8個）

17. `PERK_BULLET_SLOW_I`「粘性空間 I」

    * 敵弾速度-10%（×0.9）

18. `PERK_BULLET_SLOW_II`「粘性空間 II」

    * 敵弾速度さらに-10%（合計 -20%）

19. `PERK_BULLET_TO_XP`「学習弾」

    * 敵弾消滅時、3%の確率で微小EXPオーブを生成。

20. `PERK_PATTERN_CAP`「制御されたカオス」

    * 画面内の敵弾上限-15%（=最大595発）
    * 上限に達したとき古い弾から自動削除。

21. `PERK_HOMING_WEAKEN`「誘導干渉」

    * 誘導弾の旋回角度-50%（MOD_HOMING_LIGHT対象）

22. `PERK_SPLIT_WEAKEN`「分裂阻害」

    * MOD_SPLITが生成する子弾数-1（最小1）

23. `PERK_MOD_RANDOM`「変調ハック」

    * ラン開始時に選ばれるモディファイア候補+1（=4種から3種使用）

24. `PERK_RAIN_GUARD`「弾雨対策」

    * PAT_RAIN弾の落下速度-25%

### 5.2.4 攻撃・経済系（6個）

25. `PERK_ATK_UP_I`「火力強化 I」

    * 自動ショットダメージ +25%

26. `PERK_ATK_UP_II`「火力強化 II」

    * 自動ショットダメージ +25%（合計 +50%）

27. `PERK_SHOT_WIDE`「拡散ショット」

    * 自動ショットの射角+20°（=より広く当たりやすく）

28. `PERK_EXP_GAIN_I`「経験最適化 I」

    * 獲得EXP +10%

29. `PERK_EXP_GAIN_II`「経験最適化 II」

    * 獲得EXP +10%（合計 +20%）

30. `PERK_CORE_BONUS`「コア抽出」

    * ラン中に得られるメタ通貨 +20%

---

# 6. メタアップグレード仕様（12ノード固定）

## 6.1 メタ通貨

* 名称：**コア欠片**
* 入手：

  * Waveクリア：Wave番号×1（Wave1=1〜Wave9=9）
  * ボス撃破：+5（Wave5）、+10（Wave9）
* 1ラン平均：20〜40個程度

## 6.2 メタアップグレードツリー（12ノード）

| ID                 | 名前        | 最大Lv | コスト/レベル | 効果                                 |
| ------------------ | --------- | ---- | ------- | ---------------------------------- |
| META_HP_MAX_I      | 基礎体力 I    | 1    | 40      | 初期最大HP+1                           |
| META_HP_MAX_II     | 基礎体力 II   | 1    | 60      | 初期最大HPさらに+1（計+2）                   |
| META_DASH_CD_I     | 再起動効率 I   | 2    | 30      | ダッシュCD-10%/Lv                      |
| META_DASH_STOCK    | 追加バッファ    | 1    | 60      | 初期ダッシュストック+1                       |
| META_EXP_GAIN      | 経験効率      | 3    | 25      | 獲得EXP+5%/Lv                        |
| META_CORE_GAIN     | 抽出効率      | 3    | 25      | 獲得コア欠片+5%/Lv                       |
| META_START_LEVEL   | 初期経験      | 1    | 35      | ラン開始時Lv2から開始                       |
| META_PERK_RARITY   | 高品質パーク    | 2    | 40      | レベルアップ時レア以上候補+10%/Lv               |
| META_UNLOCK_PERK_A | パークセットA解放 | 1    | 30      | 高度なパーク（ID 17〜24）をプールに追加            |
| META_UNLOCK_MOD_A  | 変調モジュールA  | 1    | 30      | MOD_HOMING_LIGHT / MOD_SPLITを使用可能に |
| META_SAFE_OPTION   | 安全設定      | 1    | 20      | 弾フラッシュ演出の初期設定をOFFに                 |
| META_TUTORIAL_SKIP | チュートリアル省略 | 1    | 10      | Wave1演出説明をスキップ可能に                  |

* 依存関係（例）

  * META_HP_MAX_II は META_HP_MAX_I 必須
  * META_DASH_STOCK は META_DASH_CD_I Lv1以上必須
  * META_UNLOCK_PERK_A は META_EXP_GAIN Lv1以上必須
  * META_UNLOCK_MOD_A は Wave5クリア実績1回以上で解放

---

# 7. 難易度・Wave構成（確定）

## 7.1 難易度インデックス

* `difficultyIndex = (currentWave - 1) / 8.0` （Wave1=0.0〜Wave9=1.0）
* 適用式（例）：

```pseudo
enemyHp = baseHp * (1.0 + 0.9 * difficultyIndex)
bulletSpeed = baseSpeed * (1.0 + 0.6 * difficultyIndex)
spawnMultiplier = 1.0 + 0.7 * difficultyIndex
```

## 7.2 Wave構成（1〜9）

※ `count`は基準で、`spawnMultiplier`を掛けて四捨五入。

### Wave1（チュートリアル的殲滅）

* クリア条件：kill_all
* 時間制限：なし
* 敵：

  * EN_GRUNT ×6（spawnArea: top/random）

### Wave2（狙い弾導入）

* クリア条件：kill_all
* 敵：

  * EN_GRUNT ×6
  * EN_SNIPER ×3

### Wave3（オービター導入・時間生存）

* クリア条件：survive
* timeLimit：60秒
* 敵：

  * EN_ORBITER ×4（順次出現）
  * EN_GRUNT ×4

### Wave4（弾数増加）

* クリア条件：kill_all
* 敵：

  * EN_GRUNT ×10
  * EN_SNIPER ×4
  * EN_MINE ×4

### Wave5（中ボス）

* クリア条件：BOSS_CORE_GUARD撃破のみ
* 雑魚：なし（またはごく少量スポーン）

### Wave6（エリート導入）

* クリア条件：kill_all
* 敵：

  * EN_ELITE_SNIPER ×1
  * EN_GRUNT ×8
  * EN_ORBITER ×4
  * EN_SWARMER ×6

### Wave7（密度MAX一歩手前）

* クリア条件：survive
* timeLimit：70秒
* 敵：

  * EN_SWARMER ×12
  * EN_ORBITER ×6
  * EN_MINE ×6

### Wave8（最終試練）

* クリア条件：kill_all
* 敵：

  * EN_ELITE_SNIPER ×1
  * EN_ELITE_ORBITER ×1
  * EN_GRUNT ×8
  * EN_SWARMER ×10

### Wave9（最終ボス）

* クリア条件：BOSS_CORE_HEART撃破
* 雑魚：フェーズ移行時に少数追加（後述）

---

# 8. ボス詳細仕様

## 8.1 BOSS_CORE_GUARD（Wave5）

* HP：300
* 当たり判定半径：32 px
* 移動：画面中央付近をゆっくり移動
* フェーズ構成：2フェーズ

### フェーズ1（HP 100%〜50%）

* 2秒ごとに以下パターンを交互使用：

  1. PAT_RING_SMALL + MOD_SLOW_START
  2. PAT_FAN_WIDE 方向ランダム + MOD_DECAY
* 10秒ごとにEN_MINE×2を周囲にスポーン

### フェーズ2（HP 50%〜0%）

* 1.5秒ごと：

  * PAT_SPIRAL + MOD_SLOW_START
* 5秒ごと：

  * PAT_AIMED_BURST + MOD_WAVE
* EN_SWARMER×4を一度だけ追加スポーン

## 8.2 BOSS_CORE_HEART（Wave9）

* HP：500
* 当たり判定半径：36 px
* フェーズ3つ

### Phase1（HP 100%〜70%）

* 攻撃1：1.8秒ごとに

  * PAT_RING_LARGE + MOD_SLOW_START
* 攻撃2：3.0秒ごとに

  * PAT_RAIN + MOD_DECAY
* EN_GRUNT×4スポーン（開始時のみ）

### Phase2（HP 70%〜35%）

* 攻撃1：1.3秒ごと

  * PAT_FAN_WIDE（プレイヤー方向）+ MOD_WAVE
* 攻撃2：2.5秒ごと

  * PAT_AIMED_BURST + MOD_HOMING_LIGHT
* EN_SWARMER×8を2回に分けてスポーン

### Phase3（HP 35%〜0%）

* 攻撃1：1.0秒ごと

  * PAT_SPIRAL（角度+20°ずつ）+ MOD_ACCELERATE
* 攻撃2：3.0秒ごと

  * PAT_RAIN + MOD_SPLIT
* 画面全体暗転演出＋敵弾色変化（赤→紫）
* 弾速上限：`baseSpeed * 1.6` まで（それ以上にはしない）

---

# 9. UI/UX仕様

## 9.1 色・フォント

* 背景色：#050511
* アリーナ床：#101522 に淡いグリッド
* プレイヤー：シアン #3DFFEC
* 敵：オレンジ〜赤 #FF8A3D / #FF4B4B
* UI文字色：白 #FFFFFF

フォント：

* 第一候補：`"Press Start 2P", system-ui, sans-serif`
* 文字サイズ：

  * タイトル：32px
  * 見出し：20px
  * 本文：14px
  * HUD数字：16px

## 9.2 画面一覧と遷移

1. **タイトル画面**

   * メニュー：`[ゲーム開始] [メタ強化] [オプション]`
2. **メタ強化画面**

   * ツリーUIで12ノード表示
3. **ランセットアップ画面**

   * 難易度：Normal / Hard（Hard=bulletSpeed+15%）
4. **ゲームプレイ画面**
5. **レベルアップポップアップ**
6. **結果画面**
7. **ポーズメニュー**（ゲームプレイ上にオーバーレイ）

遷移は以前のMermaid通りで確定。

## 9.3 プレイ画面レイアウト（800×450）

* 画面中央：アリーナ（全域）
* HUD：

  * 左上：HP（ハートアイコン×残数）
  * 右上：`Wave X / 9`
  * 左下：`Lv`とEXPバー（幅260px、高さ12px）
  * 右下：パークアイコン横一列（最大10個）

---

# 10. 技術仕様（Phaser 3）

## 10.1 エンジン・設定

* Phaserバージョン：3.80+（現行安定版）
* レンダラー：`AUTO`（WebGL優先、fallback Canvas）
* 物理：Arcade Physics（重力0）
* タイマー：Phaserの時間スケジューラ使用（Tweenは演出用のみ）

## 10.2 シーン構成（最終）

* `BootScene`
* `TitleScene`
* `MetaScene`
* `GameScene`
* `ResultScene`

## 10.3 主要クラス/モジュール

* `PlayerController`
* `EnemyController`
* `EnemySpawner`
* `BulletPool`
* `PatternSystem`
* `ModifierSystem`
* `RogueLikeSystem`
* `MetaProgressionSystem`
* `HudView`
* `LevelUpPanel`
* `SaveManager`
* `Config`（定数）

## 10.4 ディレクトリ構成

```text
src/
  main.js
  config.js
  scenes/
    BootScene.js
    TitleScene.js
    MetaScene.js
    GameScene.js
    ResultScene.js
  entities/
    Player.js
    Enemy.js
    Boss.js
    Bullet.js
  systems/
    PlayerController.js
    EnemySpawner.js
    BulletSystem.js
    PatternSystem.js
    ModifierSystem.js
    RogueLikeSystem.js
    MetaProgressionSystem.js
  ui/
    HudView.js
    LevelUpPanel.js
    PauseMenu.js
  data/
    enemies.json
    patterns.json
    modifiers.json
    perks.json
    meta_upgrades.json
    waves.json
    localization.json
  save/
    SaveManager.js
assets/
  images/
  audio/
  fonts/
```

---

# 11. データ形式・セーブ仕様

## 11.1 Wave定義例

```json
{
  "id": "WAVE_6",
  "type": "kill_all",
  "timeLimit": 0,
  "spawns": [
    { "enemyId": "EN_ELITE_SNIPER", "count": 1, "spawnArea": "top", "delay": 0 },
    { "enemyId": "EN_GRUNT", "count": 8, "spawnArea": "random", "delay": 2 },
    { "enemyId": "EN_ORBITER", "count": 4, "spawnArea": "random", "delay": 4 },
    { "enemyId": "EN_SWARMER", "count": 6, "spawnArea": "left_right", "delay": 6 }
  ]
}
```

## 11.2 セーブデータ仕様（localStorage）

* キー：`"bulletcore_labyrinth_save"`
* 保存内容（JSON）：

```json
{
  "metaCurrency": 120,
  "metaUpgrades": {
    "META_HP_MAX_I": 1,
    "META_EXP_GAIN": 2
  },
  "settings": {
    "language": "ja",
    "bgmVolume": 0.7,
    "seVolume": 0.8,
    "flashEffects": false
  },
  "stats": {
    "runsPlayed": 15,
    "bestWave": 9,
    "boss1Defeated": true,
    "boss2Defeated": false
  }
}
```

* セーブタイミング：

  * メタ強化購入時
  * ラン終了時
  * オプション変更時

---

# 12. バランス・チューニングフック

## 12.1 経験値テーブル（固定）

* `needExp(level) = 10 + (level - 1) * 6`
* 想定レベル：Wave9クリアまでにLv9〜11

## 12.2 ログ出力（デバッグ用）

* コンソールまたは一時ファイルに以下を記録：

  * ランごとの：プレイ時間 / 到達Wave / 被弾回数 / 取得パークリスト
  * Waveごとの：平均同時弾数 / FPS最低値

---

# 13. アクセシビリティ・ローカライズ

* アクセシビリティ：

  * 画面フラッシュ・カメラシェイク ON/OFF（オプション）
  * 弾と背景の色コントラスト比 > 4.5:1 を維持
* ローカライズ：

  * v1.0で **日本語 / 英語** 2言語対応
  * 言語変更はタイトル画面オプションから

---

# 14. 生産計画（仕様に基づく最終形）

ざっくり：

* コアシステム（移動/弾/パターン/パーク/メタ）：優先度S
* 敵7種・ボス2体・パーク30・パターン8・モディファイア6・Wave9：優先度S〜A
* それ以外の演出系（画面揺れ・特殊エフェクト）はB。

（ここまでで、**実装に必要な要素はすべてID・数値・リスト込みで確定**しています）

---

# 15. 用語集（最終）

* **ラン**：ゲーム開始からゲームオーバー/クリアまでの一連のプレイ。
* **Wave**：アリーナ上の1つの敵出現フェーズ。
* **パーク**：ラン中のみ有効なアップグレード。
* **メタアップグレード**：ランをまたいで有効な恒久アップグレード。
* **パターン**：弾の発射構造（リング・扇・螺旋など）。
* **モディファイア**：弾の挙動を変える性質（加速・分裂・波打ちなど）。

---